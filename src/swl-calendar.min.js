!function(){Date.prototype.monthDays=function(){var e=new Date(this.getFullYear(),this.getMonth()+1,0);return e.setHours(0,-e.getTimezoneOffset(),0,0),e.getDate()},Date.prototype.mGetDay=function(){return(this.getDay()+6)%7},Date.prototype.mGetUTCDay=function(){return(this.getUTCDay()+6)%7},Date.prototype.getWeek=function(){var e=new Date(this.valueOf()),t=(this.getDay()+6)%7;e.setDate(e.getDate()-t+3);var r=e.valueOf();return e.setMonth(0,1),4!=e.getDay()&&e.setMonth(0,1+(4-e.getDay()+7)%7),1+Math.ceil((r-e)/6048e5)},Date.prototype.getUTCWeek=function(){var e=new Date(this.getFullYear(),0,1);return e.setHours(0,-e.getTimezoneOffset(),0,0),Math.ceil(((this-e)/864e5+e.mGetUTCDay()+1)/7)},Date.prototype.getWeeksOfMonth=function(){var e=new Date(this.setDate(1)).getDay(),t=new Date(this.getFullYear(),this.getMonth()+1,0).getDate();return Math.ceil((e+t)/7)},Date.getDateOfISOWeek=function(e,t){var r=new Date(t,0,1+7*(e-1)),o=r.getDay(),i=r;return 4>=o?i.setDate(r.getDate()-r.getDay()+1):i.setDate(r.getDate()+8-r.getDay()),i},Date.getISOWeeksOfYear=function(e){var t,r;return t=new Date(e,0,1),r=1===new Date(e,1,29).getMonth(),4===t.getDay()||r&&3===t.getDay()?53:52};var e=function(){return{locale:"en-US",time:{hour12:!1,hour:"2-digit",minute:"2-digit"},date:{full:{weekday:"long",day:"numeric",month:"long",year:"numeric"},date:{day:"2-digit",month:"long",year:"numeric"},day:{weekday:"short",day:"numeric"}}}}(),t="import"in document.createElement("link")?document.currentScript.ownerDocument:document._currentScript.ownerDocument,r=Object.create(HTMLElement.prototype,{createdCallback:{value:function(){this.cache={entry:{height:0},calendar:{size:{last:{width:0,height:0}}},ui:{timer:null,lastExecThrottle:100,lastExec:new Date}},this.createShadowRoot(),window.addEventListener("resize",this.checkWindowSize.bind(this))}},attachedCallback:{value:function(){var e=t.querySelector("#swl-calendar-"+this.getAttribute("view")).content.cloneNode(!0);return this.shadowRoot.appendChild(e),"year"==this.getAttribute("view")?(this.yearCalendar(),this.setYearEvents(),void 0):"month"==this.getAttribute("view")?(this.monthCalendar(),this.clearMonthHiddenLabel(),this.setMonthEvents(),window.setTimeout(function(){this.resizeMonth()}.bind(this),10),void 0):"week"==this.getAttribute("view")?(this.weekCalendar(),this.setWeekEvents(),this.setWeekListeners(),window.setTimeout(function(){this.scrollToWeekNow()}.bind(this),10),void 0):"day"==this.getAttribute("view")?(this.dayCalendar(),this.setDayEvents(),this.setDayListeners(),window.setTimeout(function(){this.scrollToDayNow()}.bind(this),10),void 0):void 0}},attributeChangedCallback:{value:function(e,t,r){if("view"==e)return this.clear(),this.attachedCallback(),void 0;if(t&&t!=r){if("year"==this.getAttribute("view")){for(var o=this.shadowRoot.querySelector('div[class="swl-calendar year"]');o.firstChild;)o.removeChild(o.firstChild);return this.yearCalendar(),void 0}if("month"==this.getAttribute("view")){for(var o=this.shadowRoot.querySelector('div[class="swl-calendar month"]');o.firstChild;)o.removeChild(o.firstChild);return this.monthCalendar(),this.clearMonthHiddenLabel(),window.setTimeout(function(){this.resizeMonth()}.bind(this),10),void 0}if("week"==this.getAttribute("view")){for(var o=this.shadowRoot.querySelector('div[class="swl-calendar week"]');o.firstChild;)o.removeChild(o.firstChild);return this.weekCalendar(),this.setWeekListeners(),this.scrollToWeekNow(),void 0}if("day"==this.getAttribute("view")){for(var o=this.shadowRoot.querySelector('div[class="swl-calendar day"]');o.firstChild;)o.removeChild(o.firstChild);return this.dayCalendar(),this.setDayListeners(),this.scrollToDayNow(),void 0}}}},detachedCallback:{value:function(){window.removeEventListener("resize",this.cache.ui.resize)}}});r.checkWindowSize=function(){if(!this.cache)return!1;var e=new Date;return e-this.cache.ui.lastExec<this.cache.ui.lastExecThrottle?(this.cache.ui.timer&&window.clearTimeout(this.cache.ui.timer),this.cache.ui.timer=window.setTimeout(this.checkWindowSize,this.cache.ui.lastExecThrottle),!1):(this.cache.ui.lastExec=e,"month"==this.getAttribute("view")&&this.resizeMonth(),void 0)},r.clear=function(){for(;this.shadowRoot.firstChild;)this.shadowRoot.removeChild(this.shadowRoot.firstChild)},r.setYearEvents=function(){this.shadowRoot.querySelector("header menu:first-of-type button:first-of-type").addEventListener("click",function(){this.setAttribute("year",parseInt(this.getAttribute("year"))-1)}.bind(this)),this.shadowRoot.querySelector("header menu:first-of-type button:nth-of-type(2)").addEventListener("click",function(){this.setAttribute("year",parseInt(this.getAttribute("year"))+1)}.bind(this)),this.shadowRoot.querySelector("header menu:first-of-type button:nth-of-type(3)").addEventListener("click",function(){var e=new Date;this.setAttribute("year",e.getFullYear()),this.setAttribute("month",e.getMonth()+1),this.setAttribute("week",e.getWeek()),this.setAttribute("day",e.getDate())}.bind(this)),this.shadowRoot.querySelector("header menu:last-of-type button:first-of-type").addEventListener("click",function(){this.setAttribute("view","month")}.bind(this)),this.shadowRoot.querySelector("header menu:last-of-type button:nth-of-type(2)").addEventListener("click",function(){this.setAttribute("view","week")}.bind(this)),this.shadowRoot.querySelector("header menu:last-of-type button:nth-of-type(3)").addEventListener("click",function(){this.setAttribute("view","day")}.bind(this))},r.yearCalendar=function(){var r=new Date;r.setHours(0,-r.getTimezoneOffset(),0,0);var o=r.getFullYear();this.getAttribute("year")&&parseInt(this.getAttribute("year"))&&(o=parseInt(this.getAttribute("year"))),this.setAttribute("year",o),this.shadowRoot.querySelector("header div").textContent=o;for(var i=t.querySelector("#swl-calendar-year").content.querySelector("template").content,n=i.querySelector(".header template").content,a=i.querySelector(".content template").content,s=a.querySelector("template").content,l=0;12>l;l++){var d=new Date(o,l,1);d.setHours(0,-d.getTimezoneOffset(),0,0);var h=new Date(o,l,d.monthDays());h.setHours(0,-h.getTimezoneOffset(),0,0);var u=i.cloneNode(!0),c=a.cloneNode(!0),y=null;u.querySelector("header h1").textContent=d.toLocaleString(e.locale,{month:"long"});for(var f=0;7>f;f++){var g=n.cloneNode(!0),v=new Date;v.setDate(f),g.querySelector("span").textContent=v.toLocaleString(e.locale,{weekday:"short"}),u.querySelector(".header").appendChild(g)}for(var m=0;m<d.mGetDay();m++)y=s.cloneNode(!0),y.querySelector("time").textContent=" ",y.querySelector("time").classList.add("inactive"),c.querySelector("div:first-of-type").appendChild(y);for(var m=0;m<d.monthDays();m++){var p=new Date(o,l,m+1);p.setHours(0,-p.getTimezoneOffset(),0,0),0==p.mGetDay()&&(u.querySelector("div > div:last-child").appendChild(c),c=a.cloneNode(!0)),y=s.cloneNode(!0),y.querySelector("time").textContent=m+1,y.querySelector("time").setAttribute("datetime",p.toISOString().slice(0,10)),p.getTime()==r.getTime()&&y.querySelector("time").classList.add("today"),c.querySelector("div:first-of-type").appendChild(y)}for(var m=0;m<6-h.mGetDay();m++)y=s.cloneNode(!0),y.querySelector("time").textContent=" ",y.querySelector("time").classList.add("inactive"),c.querySelector("div:first-of-type").appendChild(y);u.querySelector("div > div:last-child").appendChild(c),this.shadowRoot.querySelector('div[class="swl-calendar year"]').appendChild(u)}var w=Array.prototype.slice.call(this.children);w.forEach(function(e){"function"==typeof e.attachedCallback&&e.attachedCallback()})},r.setMonthEvents=function(){this.shadowRoot.querySelector("header menu:first-of-type button:first-of-type").addEventListener("click",function(){var e=parseInt(this.getAttribute("month"));if(1>e-1)return this.setAttribute("year",parseInt(this.getAttribute("year"))-1),this.setAttribute("month",12),void 0;if(this.setAttribute("month",e-1),this.getAttribute("week")){var t=new Date(this.getAttribute("year"),e-2,1),r=new Date(this.getAttribute("year"),e-2,t.monthDays());this.setAttribute("week",r.getWeek())}if(this.getAttribute("day")&&this.getAttribute("week")){var t=Date.getDateOfISOWeek(this.getAttribute("week"),this.getAttribute("year"));this.setAttribute("day",t.getDate())}}.bind(this)),this.shadowRoot.querySelector("header menu:first-of-type button:nth-of-type(2)").addEventListener("click",function(){var e=parseInt(this.getAttribute("month"));if(e+1>12)return this.setAttribute("year",parseInt(this.getAttribute("year"))+1),this.setAttribute("month",1),void 0;if(this.setAttribute("month",e+1),this.getAttribute("week")){var t=new Date(this.getAttribute("year"),e,1);this.setAttribute("week",t.getWeek())}if(this.getAttribute("day")&&this.getAttribute("week")){var t=Date.getDateOfISOWeek(this.getAttribute("week"),this.getAttribute("year"));this.setAttribute("day",t.getDate())}}.bind(this)),this.shadowRoot.querySelector("header menu:first-of-type button:nth-of-type(3)").addEventListener("click",function(){var e=new Date;this.setAttribute("year",e.getFullYear()),this.setAttribute("month",e.getMonth()+1),this.setAttribute("week",e.getWeek()),this.setAttribute("day",e.getDate())}.bind(this)),this.shadowRoot.querySelector("header menu:last-of-type button:first-of-type").addEventListener("click",function(){this.setAttribute("view","year")}.bind(this)),this.shadowRoot.querySelector("header menu:last-of-type button:nth-of-type(2)").addEventListener("click",function(){this.setAttribute("view","week")}.bind(this)),this.shadowRoot.querySelector("header menu:last-of-type button:nth-of-type(3)").addEventListener("click",function(){this.setAttribute("view","day")}.bind(this))},r.monthCalendar=function(){var r=new Date;r.setHours(0,-r.getTimezoneOffset(),0,0);var o=r.getFullYear(),i=r.getMonth()+1;this.getAttribute("year")&&parseInt(this.getAttribute("year"))&&(o=this.getAttribute("year")),this.getAttribute("month")&&parseInt(this.getAttribute("month"))&&(i=parseInt(this.getAttribute("month"))),this.setAttribute("year",o),this.setAttribute("month",i);var n=new Date(o,i-1,1);n.setHours(0,-n.getTimezoneOffset(),0,0);var a=new Date(o,i-1,n.monthDays());a.setHours(0,-a.getTimezoneOffset(),0,0),this.shadowRoot.querySelector("header div").innerHTML="<strong>"+n.toLocaleString(e.locale,{month:"long"})+"</strong> "+o;for(var s=t.querySelector("#swl-calendar-month").content.querySelector(".swl-calendar.month template").content,l=s.querySelector(".header template").content,d=s.querySelector(".background template").content,h=d.querySelector(".week template").content,u=s.querySelector(".foreground template").content,c=u.querySelector(".week template").content,y=s.cloneNode(!0),f=0;7>f;f++){var g=l.cloneNode(!0),v=new Date;v.setDate(f),g.querySelector("span").textContent=v.toLocaleString(e.locale,{weekday:"short"}),y.querySelector(".header").appendChild(g)}for(var m=d.cloneNode(!0),p=u.cloneNode(!0),w=0;w<n.mGetDay();w++)day=h.cloneNode(!0),day.querySelector("div").classList.add("inactive"),p.querySelector("div:first-of-type").appendChild(c.cloneNode(!0)),m.querySelector("div:first-of-type").appendChild(day);for(var w=0;w<n.monthDays();w++){var b=new Date(o,i-1,w+1);if(b.setHours(0,-b.getTimezoneOffset(),0,0),0==b.mGetDay()&&(w>0||n.mGetDay()>0)){var S=m.querySelector("div.day:first-of-type > div.header > div:first-of-type");S.textContent=b.getWeek()-1,S.classList.add("weeknumber"),m.querySelector(".week").setAttribute("number",b.getWeek()-1),y.querySelector("div > div.background").appendChild(m),m=d.cloneNode(!0),p.querySelector(".week").setAttribute("number",b.getWeek()-1),y.querySelector("div > div.foreground").appendChild(p),p=u.cloneNode(!0)}day=h.cloneNode(!0),day.querySelector("div").setAttribute("datetime",b.toISOString().slice(0,10)),foregroundDay=c.cloneNode(!0),foregroundDay.querySelector("div").setAttribute("datetime",b.toISOString().slice(0,10)),p.querySelector("div:first-of-type").appendChild(foregroundDay),b.getTime()==r.getTime()&&day.querySelector("div").classList.add("today"),day.querySelector("div > div.header > div:last-of-type").textContent=w+1,m.querySelector("div:first-of-type").appendChild(day)}for(var w=0;w<6-a.mGetDay();w++)day=h.cloneNode(!0),day.querySelector("div").classList.add("inactive"),p.querySelector("div:first-of-type").appendChild(c.cloneNode(!0)),m.querySelector("div:first-of-type").appendChild(day);var S=m.querySelector("div.day:first-of-type > div.header > div:first-of-type");S.textContent=b.getWeek(),S.classList.add("weeknumber"),m.querySelector(".week").setAttribute("number",b.getWeek()),y.querySelector("div > div.background").appendChild(m),p.querySelector(".week").setAttribute("number",b.getWeek()),y.querySelector("div > div.foreground").appendChild(p),this.shadowRoot.querySelector('div[class="swl-calendar month"]').appendChild(y);for(var f=0;f<this.children.length;f++)"function"==typeof this.children[f].attachedCallback&&this.children[f].attachedCallback()},r.resizeMonth=function(){Array.prototype.slice.call(this.shadowRoot.querySelectorAll(".foreground .week")).forEach(function(e){var t=e.clientHeight,r=this.monthWeekHeight(e),o=this.monthFooterHeight(e),i=this.monthEntryHeight(e);if(r+o>=t){var n=Array.prototype.slice.call(e.querySelectorAll(".entry:not(.hidden)")).pop();n&&(this.hideMonthEntry(n.swlDOMElement),this.addMonthHiddenLabel(n.swlDOMElement))}if(t>r+i+o&&e.querySelectorAll(".entry.hidden").length>0){var a=e.querySelectorAll(".entry.hidden")[0].swlDOMElement;this.canShowMonthEntry(a)&&(this.showMonthEntry(a),this.removeMonthHiddenLabel(a))}}.bind(this))},r.monthEntryHeight=function(e){var t=e.parentNode.querySelector(".entry:not(.hidden)");if(t){var r=window.getComputedStyle(t);this.cache.entry.height=Math.ceil(t.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom))}return this.cache.entry.height},r.monthWeekHeight=function(e){for(var t=e.querySelector(".day"),r=window.getComputedStyle(t),o=Math.ceil(t.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom)),i=0,n=e.querySelectorAll(".entry:not(.hidden)"),a=0;a<n.length;a++){var s=window.getComputedStyle(n[a]),l=parseFloat(s.marginTop)+parseFloat(s.marginBottom);i+=Math.ceil(n[a].offsetHeight+l)}return o+i},r.monthFooterHeight=function(e){var t=0,r=this.shadowRoot.querySelector('.background .week[number="'+e.getAttribute("number")+'"]'),o=r.querySelector(".day .footer:not(.hidden)");if(o){var i=window.getComputedStyle(o);t=Math.ceil(o.offsetHeight+parseFloat(i.marginTop)+parseFloat(i.marginBottom))}return t+3},r.hideMonthEntry=function(e){for(var t=0;t<e.swlShadowElements.length;t++)e.swlShadowElements[t].classList.add("hidden")},r.clearMonthHiddenLabel=function(){for(var e=this.shadowRoot.querySelectorAll(".background .footer"),t=0;t<e.length;t++)e[t].hasOwnProperty("swlHidden")||Object.defineProperty(e[t],"swlHidden",{value:0,writable:!0}),e[t].swlHidden=0,e[t].textContent="",e[t].classList.add("hidden")},r.addMonthHiddenLabel=function(e){for(var t=0;t<e.swlShadowElements.length;t++)for(var r=this.shadowRoot.querySelector('.background .week[number="'+e.swlShadowElements[t].parentNode.getAttribute("number")+'"]'),o=parseInt(e.swlShadowElements[t].style.gridColumnStart),i=parseInt(e.swlShadowElements[t].style.gridColumnEnd)-o,n=0;i>n;n++){var a=r.children[o+n].querySelector(".footer");a.swlHidden+=1,a.textContent=a.swlHidden+" more ...",a.classList.remove("hidden")}},r.removeMonthHiddenLabel=function(e){for(var t=0;t<e.swlShadowElements.length;t++)for(var r=this.shadowRoot.querySelector('.background .week[number="'+e.swlShadowElements[t].parentNode.getAttribute("number")+'"]'),o=parseInt(e.swlShadowElements[t].style.gridColumnStart),i=parseInt(e.swlShadowElements[t].style.gridColumnEnd)-o,n=0;i>n;n++){var a=r.children[o+n].querySelector(".footer");a.swlHidden-=1,a.swlHidden<=0&&(a.swlHidden=0,a.classList.add("hidden")),a.textContent=a.swlHidden+" more ..."}},r.canShowMonthEntry=function(e){for(var t=0;t<e.swlShadowElements.length;t++){var r=e.swlShadowElements[t].parentNode,o=r.clientHeight,i=this.monthWeekHeight(r),n=this.monthFooterHeight(r),a=this.monthEntryHeight(r);if(i+a+n>=o)return!1}return!0},r.showMonthEntry=function(e){for(var t=0;t<e.swlShadowElements.length;t++)e.swlShadowElements[t].classList.remove("hidden")},r.setWeekEvents=function(){this.shadowRoot.querySelector("header menu:first-of-type button:first-of-type").addEventListener("click",function(){var e=parseInt(this.getAttribute("week"));if(1>e-1&&(this.setAttribute("year",parseInt(this.getAttribute("year"))-1),this.setAttribute("month",12),e=Date.getISOWeeksOfYear(this.getAttribute("year"))),this.setAttribute("week",e-1),this.setAttribute("month",new Date(this.getAttribute("year"),0,1+7*(e-2)).getMonth()+1),this.getAttribute("day")){var t=Date.getDateOfISOWeek(e-1,this.getAttribute("year"));this.setAttribute("day",t.getDate())}}.bind(this)),this.shadowRoot.querySelector("header menu:first-of-type button:nth-of-type(2)").addEventListener("click",function(){var e=parseInt(this.getAttribute("week"));if(e+1>Date.getISOWeeksOfYear(this.getAttribute("year"))&&(this.setAttribute("year",parseInt(this.getAttribute("year"))+1),this.setAttribute("month",1),e=0),this.setAttribute("week",e+1),this.setAttribute("month",new Date(this.getAttribute("year"),0,1+7*e).getMonth()+1),this.getAttribute("day")){var t=Date.getDateOfISOWeek(e+1,this.getAttribute("year"));this.setAttribute("day",t.getDate())}}.bind(this)),this.shadowRoot.querySelector("header menu:first-of-type button:nth-of-type(3)").addEventListener("click",function(){var e=new Date;this.setAttribute("year",e.getFullYear()),this.setAttribute("month",e.getMonth()+1),this.setAttribute("week",e.getWeek()),this.setAttribute("day",e.getDate()),this.scrollToWeekNow()}.bind(this)),this.shadowRoot.querySelector("header menu:last-of-type button:first-of-type").addEventListener("click",function(){this.setAttribute("view","year")}.bind(this)),this.shadowRoot.querySelector("header menu:last-of-type button:nth-of-type(2)").addEventListener("click",function(){this.setAttribute("view","month")}.bind(this)),this.shadowRoot.querySelector("header menu:last-of-type button:nth-of-type(3)").addEventListener("click",function(){this.setAttribute("view","day")}.bind(this))},r.setWeekListeners=function(){this.shadowRoot.querySelector(".foreground .content").addEventListener("scroll",function(){this.shadowRoot.querySelector(".background .content").scrollTop=this.shadowRoot.querySelector(".foreground .content").scrollTop}.bind(this))},r.scrollToWeekNow=function(){var e=Date.getDateOfISOWeek(this.getAttribute("week"),this.getAttribute("year"));e.setHours(0,0,0,0);var t=new Date;t.setYear(e.getFullYear()),t.setMonth(e.getMonth()),t.setDate(e.getDate());var r=Math.floor((t-e)/18e5),o=this.shadowRoot.querySelector('.background .content .day [x="2"][y="'+r+'"]');this.shadowRoot.querySelector(".background .content").scrollTop=o.offsetTop,this.shadowRoot.querySelector(".foreground .content").scrollTop=o.offsetTop},r.weekCalendar=function(){var r=new Date;r.setHours(0,-r.getTimezoneOffset(),0,0);var o=r.getFullYear(),i=r.getMonth()+1,n=r.getWeek();this.getAttribute("year")&&parseInt(this.getAttribute("year"))&&(o=parseInt(this.getAttribute("year"))),this.getAttribute("month")&&parseInt(this.getAttribute("month"))&&(i=parseInt(this.getAttribute("month"))),this.getAttribute("week")&&parseInt(this.getAttribute("week"))&&(n=parseInt(this.getAttribute("week"))),this.setAttribute("year",o),this.setAttribute("month",i),this.setAttribute("week",n);var a=Date.getDateOfISOWeek(n,o);a.setHours(0,-a.getTimezoneOffset(),0,0);var s=new Date(a.getFullYear(),a.getMonth(),a.getDate());s.setHours(0,-s.getTimezoneOffset(),0,0),s.setDate(s.getDate()+6),this.shadowRoot.querySelector("header div").innerHTML="<strong>"+s.toLocaleString(e.locale,{month:"long"})+"</strong> "+o;var l=t.querySelector("#swl-calendar-week").content.querySelector("template").content,d=l.querySelector(".week .header template").content,h=l.cloneNode(!0),u=d.cloneNode(!0),c=document.createElement("div");c.textContent=n,c.classList.add("weeknumber"),u.querySelector("div").appendChild(c),h.querySelector(".header").appendChild(u);var y=new Date(a.valueOf());y.setHours(0,-y.getTimezoneOffset(),0,0);for(var f=0;7>f;f++){var u=d.cloneNode(!0);u.querySelector("div").textContent=y.toLocaleString(e.locale,e.date.day),y.valueOf()==r.valueOf()&&u.querySelector("div").classList.add("today"),h.querySelector(".header").appendChild(u),y.setDate(y.getDate()+1)}var g=l.querySelector(".week .content .background .allday template").content;l.querySelector(".week .content .foreground .allday template").content;var c=document.createElement("div");c.textContent="all-day",c.classList.add("label"),h.querySelector(".week .content .background .allday").appendChild(c);var y=new Date(a.valueOf());y.setHours(0,-y.getTimezoneOffset(),0,0);for(var f=0;7>f;f++){var v=g.cloneNode(!0);v.querySelector("div").setAttribute("datetime",y.toISOString().slice(0,10)),h.querySelector(".week .content .background .allday").appendChild(v),y.setDate(y.getDate()+1)}var m=l.querySelector(".background .day template").content;l.querySelector(".foreground .day template").content;var y=new Date(a.valueOf());y.setHours(0,0,0,0);for(var f=0;48>f;f++){if(0==f%2){var p=document.createElement("div"),w="grid-row: "+(f+1)+" / span 2;";w+="position: relative; top: calc(-0.5em); text-align: right; height: 100%; vertical-align: middle;",p.setAttribute("style",w),f>0&&(p.textContent=y.toLocaleString(e.locale,e.time)),h.querySelector(".background .day").appendChild(p)}y.setMinutes(y.getMinutes()+30)}for(var y=new Date(a.valueOf()),f=0;7>f;f++){y.setHours(0,0,0,0);for(var b=0;48>b;b++){var S=m.cloneNode(!0),w="grid-column: "+(f+1)+";";0==b&&S.querySelector("div").setAttribute("style","border-bottom: none;"),S.querySelector("div").setAttribute("x",f+1),S.querySelector("div").setAttribute("y",b+1),h.querySelector(".background .day").appendChild(S)}y.setDate(y.getDate()+1)}this.shadowRoot.querySelector('div[class="swl-calendar week"]').appendChild(h);for(var f=0;f<this.children.length;f++)"function"==typeof this.children[f].attachedCallback&&this.children[f].attachedCallback()},r.weekUpdateHeights=function(){window.setTimeout(function(){var e=this.shadowRoot.querySelector(".content .foreground"),t=window.getComputedStyle(e.querySelector(".allday"));height=Math.ceil(e.querySelector(".allday").offsetHeight+parseFloat(t.marginTop)+parseFloat(t.marginBottom));var r=this.shadowRoot.querySelector(".content .background");r.querySelector(".allday").style.minHeight=height+"px",e.querySelector(".content").style.height="calc(100% - "+height+"px)",r.querySelector(".content").style.height="calc(100% - "+height+"px)"}.bind(this),2)},r.setDayEvents=function(){this.shadowRoot.querySelector("header menu:first-of-type button:first-of-type").addEventListener("click",function(){var e=new Date(this.getAttribute("year"),parseInt(this.getAttribute("month"))-1,this.getAttribute("day"));e.setHours(0,-e.getTimezoneOffset(),0,0),e.setDate(e.getDate()-1),this.setAttribute("year",e.getFullYear()),this.setAttribute("month",e.getMonth()+1),this.setAttribute("week",e.getWeek()),this.setAttribute("day",e.getDate()),this.scrollToDayNow()}.bind(this)),this.shadowRoot.querySelector("header menu:first-of-type button:nth-of-type(2)").addEventListener("click",function(){var e=new Date(this.getAttribute("year"),parseInt(this.getAttribute("month"))-1,this.getAttribute("day"));e.setHours(0,-e.getTimezoneOffset(),0,0),e.setDate(e.getDate()+1),this.setAttribute("year",e.getFullYear()),this.setAttribute("month",e.getMonth()+1),this.setAttribute("week",e.getWeek()),this.setAttribute("day",e.getDate())}.bind(this)),this.shadowRoot.querySelector("header menu:first-of-type button:nth-of-type(3)").addEventListener("click",function(){var e=new Date;this.setAttribute("year",e.getFullYear()),this.setAttribute("month",e.getMonth()+1),this.setAttribute("week",e.getWeek()),this.setAttribute("day",e.getDate())}.bind(this)),this.shadowRoot.querySelector("header menu:last-of-type button:first-of-type").addEventListener("click",function(){this.setAttribute("view","year")}.bind(this)),this.shadowRoot.querySelector("header menu:last-of-type button:nth-of-type(2)").addEventListener("click",function(){this.setAttribute("view","month")}.bind(this)),this.shadowRoot.querySelector("header menu:last-of-type button:nth-of-type(3)").addEventListener("click",function(){this.setAttribute("view","week")}.bind(this))},r.setDayListeners=function(){this.shadowRoot.querySelector(".foreground .content").addEventListener("scroll",function(){this.shadowRoot.querySelector(".background .content").scrollTop=this.shadowRoot.querySelector(".foreground .content").scrollTop}.bind(this))},r.scrollToDayNow=function(){var e=new Date(this.getAttribute("year"),parseInt(this.getAttribute("month"))-1,this.getAttribute("day"));e.setHours(0,-e.getTimezoneOffset(),0,0);var t=new Date;t.setYear(e.getFullYear()),t.setMonth(e.getMonth()),t.setDate(e.getDate());var r=Math.floor((t-e)/18e5),o=this.shadowRoot.querySelector('.background .content .day [x="2"][y="'+r+'"]');this.shadowRoot.querySelector(".background .content").scrollTop=o.offsetTop,this.shadowRoot.querySelector(".foreground .content").scrollTop=o.offsetTop;var i=this.shadowRoot.querySelector('[is="swl-sticky-list-headers"] [datetime="'+e.toISOString().slice(0,10)+'"]');i?i.parentNode.scrollTop=i.offsetTop:(this.shadowRoot.querySelector('[is="swl-sticky-list-headers"]').scrollTop=1,this.shadowRoot.querySelector('[is="swl-sticky-list-headers"]').scrollTop=0)},r.dayCalendar=function(){var r=new Date;r.setHours(0,-r.getTimezoneOffset(),0,0);var o=r.getFullYear(),i=r.getMonth()+1,n=r.getWeek(),a=r.getDate();this.getAttribute("year")&&parseInt(this.getAttribute("year"))&&(o=parseInt(this.getAttribute("year"))),this.getAttribute("month")&&parseInt(this.getAttribute("month"))&&(i=parseInt(this.getAttribute("month"))),this.getAttribute("week")&&parseInt(this.getAttribute("week"))&&(n=parseInt(this.getAttribute("week"))),this.getAttribute("day")&&parseInt(this.getAttribute("day"))&&(a=parseInt(this.getAttribute("day"))),this.setAttribute("year",o),this.setAttribute("month",i),this.setAttribute("week",n),this.setAttribute("day",a);var s=new Date(o,i-1,a);s.setHours(0,-s.getTimezoneOffset(),0,0);var l=t.querySelector("#swl-calendar-day").content.querySelector("template").content,d=l.cloneNode(!0);d.querySelector(".sidebar .label :first-child").textContent=s.getDate(),d.querySelector(".sidebar .label :last-child").textContent=s.toLocaleString(e.locale,{weekday:"long"});var h=l.querySelector(".sidebar .month .content template").content,u=new Date(o,i-1,1);u.setHours(0,-u.getTimezoneOffset(),0,0);var c=new Date(o,i-1,u.monthDays());c.setHours(0,-c.getTimezoneOffset(),0,0),d.querySelector(".sidebar .month .content").appendChild(h.cloneNode(!0));for(var y=0;7>y;y++){var f=h.cloneNode(!0),g=new Date;g.setDate(y),f.querySelector("div").textContent=g.toLocaleString(e.locale,{weekday:"short"}),d.querySelector(".sidebar .month .content").appendChild(f)}var f=h.cloneNode(!0);f.querySelector("div").appendChild(document.createElement("div")).textContent=u.getWeek(),f.querySelector("div").setAttribute("number",u.getWeek()),d.querySelector(".sidebar .month .content").appendChild(f);for(var v=0;v<u.mGetDay();v++){var f=h.cloneNode(!0);f.querySelector("div").classList.add("inactive"),d.querySelector(".sidebar .month .content").appendChild(f)}for(var v=0;v<u.monthDays();v++){var m=new Date(o,i-1,v+1);if(m.setHours(0,-m.getTimezoneOffset(),0,0),0==m.mGetDay()&&(v>0||u.mGetDay()>0)){var p=h.cloneNode(!0);p.querySelector("div").appendChild(document.createElement("div")).textContent=m.getWeek(),p.querySelector("div").setAttribute("number",m.getWeek()),d.querySelector(".sidebar .month .content").appendChild(p)}var f=h.cloneNode(!0);f.querySelector("div").setAttribute("datetime",m.toISOString().slice(0,10)),m.getTime()==r.getTime()&&f.querySelector("div").classList.add("today"),m.getTime()==s.getTime()&&f.querySelector("div").classList.add("active"),f.querySelector("div").textContent=v+1,d.querySelector(".sidebar .month .content").appendChild(f)}for(var v=0;v<6-c.mGetDay();v++){var f=h.cloneNode(!0);f.querySelector("div").classList.add("inactive"),d.querySelector(".sidebar .month .content").appendChild(f)}var w=l.querySelector(".sidebar .list template:first-of-type").content,b=document.createElement("div","swl-sticky-list-headers");b.setAttribute("selector",".label"),b.classList.add("list");var S=w.cloneNode(!0);S.querySelector(".label").setAttribute("datetime",s.toISOString().slice(0,10)),S.querySelector(".label div:first-of-type").textContent=s.toLocaleString(e.locale,{weekday:"long"}),S.querySelector(".label div:last-of-type").textContent=s.toLocaleString(e.locale,e.date.date),b.appendChild(S),d.querySelector(".sidebar").replaceChild(b,d.querySelector(".sidebar .list")),d.querySelector(".content .header").innerHTML="<strong>"+s.toLocaleString(e.locale,e.date.full)+"</strong>";var q=l.querySelector(".day .content .events .background .allday template").content;l.querySelector(".day .content .events .foreground .allday template").content;var A=q.cloneNode(!0);A.querySelector("div").textContent="all-day",A.querySelector("div").classList.add("label"),d.querySelector(".day .content .events .background .allday").appendChild(A);var D=q.cloneNode(!0);D.querySelector("div").setAttribute("datetime",s.toISOString().slice(0,10)),d.querySelector(".day .content .events .background .allday").appendChild(D);var k=l.querySelector(".background .content .day template").content;l.querySelector(".foreground .content .day template").content;var C=new Date(s.valueOf());C.setHours(0,0,0,0);for(var y=0;48>y;y++){if(0==y%2){var E=document.createElement("div"),O="grid-row: "+(y+1)+" / span 2;";O+="position: relative; top: calc(-0.5em); text-align: right; height: 100%; vertical-align: middle;",E.setAttribute("style",O),y>0&&(E.textContent=s.toLocaleString(e.locale,e.time)),d.querySelector(".background .content .day").appendChild(E)}s.setMinutes(s.getMinutes()+30)}var C=new Date(s.valueOf());C.setHours(0,0,0,0);for(var L=0;48>L;L++){var T=k.cloneNode(!0),O="grid-column: "+(y+1)+";";0==L&&T.querySelector("div").setAttribute("style","border-bottom: none;"),T.querySelector("div").setAttribute("x",2),T.querySelector("div").setAttribute("y",L+1),d.querySelector(".background .day").appendChild(T)}this.shadowRoot.querySelector('div[class="swl-calendar day"]').appendChild(d);for(var y=0;y<this.children.length;y++)"function"==typeof this.children[y].attachedCallback&&this.children[y].attachedCallback()},r.dayUpdateHeights=function(){window.setTimeout(function(){var e=this.shadowRoot.querySelector(".content .foreground"),t=window.getComputedStyle(e.querySelector(".allday")),r=Math.ceil(e.querySelector(".allday").offsetHeight+parseFloat(t.marginTop)+parseFloat(t.marginBottom)),o=this.shadowRoot.querySelector(".content .background");o.querySelector(".allday").style.minHeight=r+"px",e.querySelector(".content").style.height="calc(100% - "+r+"px)",o.querySelector(".content").style.height="calc(100% - "+r+"px)"}.bind(this),2)},document.registerElement("swl-calendar",{prototype:r});var o=Object.create(HTMLElement.prototype,{createdCallback:{value:function(){this.createShadowRoot(),this.shadowRoot.resetStyleInheritance=!0}},attachedCallback:{value:function(){return this.clearBindings(),this.calculateDefaults(),"year"==this.parentNode.getAttribute("view")?(this.yearCalendar(),void 0):"month"==this.parentNode.getAttribute("view")?(this.monthCalendar(),void 0):"week"==this.parentNode.getAttribute("view")?(this.weekCalendar(),void 0):"day"==this.parentNode.getAttribute("view")?(this.dayCalendar(),void 0):void 0}}});o.clearBindings=function(){this.hasOwnProperty("swlShadowElements")||Object.defineProperty(this,"swlShadowElements",{value:[],writable:!0}),this.swlShadowElements.splice(0,this.swlShadowElements.length)},o.calculateDefaults=function(){if(this.allday="true"===this.getAttribute("allday").toLowerCase(),this.from=new Date(this.getAttribute("from")),this.to=new Date(this.from.valueOf()),this.days=0,this.minutes=0,""!=this.getAttribute("to")){this.to=new Date(this.getAttribute("to"));
var e=new Date(this.from.valueOf());e.setHours(0,-e.getTimezoneOffset(),0,0);var r=new Date(this.to.valueOf());r.setHours(0,-r.getTimezoneOffset(),0,0),r.setDate(r.getDate()),this.days=(r-e)/864e5,this.minutes=(this.to-this.from)/6e4}this.template=null,this.allday?(this.template=t.querySelector("#swl-calendar-week").content.querySelector(".swl-calendar.week template").content.querySelector(".foreground .allday template").content,this.template||(this.template=t.querySelector("#swl-calendar-day").content.querySelector(".swl-calendar.day template").content.querySelector(".foreground .allday template").content)):(this.template=t.querySelector("#swl-calendar-week").content.querySelector(".swl-calendar.week template").content.querySelector(".foreground .content .day template").content,this.template||(this.template=t.querySelector("#swl-calendar-day").content.querySelector(".swl-calendar.day template").content.querySelector(".foreground .content .day template").content)),this.listHeaderTpl=t.querySelector("#swl-calendar-day").content.querySelector("template").content.querySelector(".sidebar .list template:first-of-type").content,this.listEntryTpl=t.querySelector("#swl-calendar-day").content.querySelector("template").content.querySelector(".sidebar .list template:last-of-type").content},o.hoverListener=function(e){e.addEventListener("mouseover",function(){this.swlShadowElements.forEach(function(e){e.classList.add("hover")})}.bind(this)),e.addEventListener("mouseout",function(){this.swlShadowElements.forEach(function(e){e.classList.remove("hover")})}.bind(this))},o.focusListener=function(e){e.addEventListener("focus",function(){this.swlShadowElements.forEach(function(e){e.classList.add("focus")}),this.selectEvent()}.bind(this)),e.addEventListener("blur",function(){this.swlShadowElements.forEach(function(e){e.classList.remove("focus")}),this.unselectEvent()}.bind(this))},o.selectEvent=function(){this.bringEventToTop()},o.unselectEvent=function(){this.swlShadowElements.forEach(function(e){this.rearrangeOverlappingEvents(parseInt(e.getAttribute("x")))}.bind(this))},o.bringEventToTop=function(){this.swlShadowElements.forEach(function(e){var t=Array.prototype.slice.call(e.parentNode.querySelectorAll('.foreground .content *[x="'+e.getAttribute("x")+'"]'));t.sort(function(e,t){return+parseInt(t.getAttribute("y"))-+parseInt(e.getAttribute("y"))}),e.style.zIndex=t[0].getAttribute("y")+1}.bind(this))},o.rearrangeOverlappingEvents=function(e){var t=Array.prototype.slice.call(this.parentNode.shadowRoot.querySelectorAll('.foreground .content *[x="'+e+'"]'));if(t.sort(function(e,t){return+parseInt(e.getAttribute("y"))-+parseInt(t.getAttribute("y"))}),t.length>1)for(idx in t)t[idx].style.zIndex=t[idx].getAttribute("y"),t[idx].style.marginRight=20*(t.length-1-idx)+"px",t[idx].style.marginLeft=20*idx+"px"},o.yearCalendar=function(){var e=new Date(this.from.valueOf());e.setHours(0,-e.getTimezoneOffset(),0,0);for(var t=0;t<this.days+1;t++){var r=this.parentNode.shadowRoot.querySelector('time[datetime="'+e.toISOString().slice(0,10)+'"]');r&&r.classList.add("busy"),e.setDate(e.getDate()+1)}},o.monthCalendar=function(){var e=this.parentNode.shadowRoot.querySelector('div.foreground div[datetime="'+this.from.toISOString().slice(0,10)+'"]');if(e)return this.monthEntry(e.parentNode,[].indexOf.call(e.parentNode.children,e),this.days),void 0;var t=this.parentNode.getAttribute("year"),r=parseInt(this.parentNode.getAttribute("month")),o=new Date(t,r-1,1);o.setHours(0,-o.getTimezoneOffset(),0,0);var i=new Date(t,r-1,o.monthDays());i.setHours(0,-i.getTimezoneOffset(),0,0);var n=new Date(this.from.valueOf());n.setHours(0,-n.getTimezoneOffset(),0,0);var a=new Date(this.to.valueOf());if(a.setHours(0,-a.getTimezoneOffset(),0,0),a.setDate(a.getDate()),o>=n&&a>=o){var s=this.parentNode.shadowRoot.querySelector("div.foreground .week:first-of-type"),l=(a-o)/864e5+o.mGetDay();return this.monthEntry(s,1,l,{style:"left"}),void 0}},o.monthEntry=function(e,t,r,o){if(e){var o=o||{},i=document.createElement("div"),n="grid-row: "+(e.querySelectorAll(".entry").length+2)+";",a=7-t,s=r+1;if(this.swlShadowElements.push(i),0>a-r){s=a+1,i.classList.add("right");var l=[].indexOf.call(e.parentNode.children,e);this.monthEntry(e.parentNode.children[l+1],1,r-a-1,{style:"left"})}n+="grid-column: "+t+" / "+(t+s),i.setAttribute("style",n),"style"in o&&i.classList.add(o.style),i.classList.add("entry"),i.textContent=this.getAttribute("summary"),this.hoverListener(i),this.focusListener(i),e.children[t].parentNode.appendChild(i),i.hasOwnProperty("swlDOMElement")||Object.defineProperty(i,"swlDOMElement",{value:null,writable:!0}),i.swlDOMElement=this}},o.weekCalendar=function(){var e=this.parentNode.shadowRoot.querySelector('div.background div[datetime="'+this.from.toISOString().slice(0,10)+'"]');if(e)return this.allday?this.weekAlldayEntry([].indexOf.call(e.parentNode.children,e),this.days):this.weekDayEntry([].indexOf.call(e.parentNode.children,e),this.from,this.minutes),this.parentNode.weekUpdateHeights(),void 0;var t=Date.getDateOfISOWeek(this.parentNode.getAttribute("week"),this.parentNode.getAttribute("year"));t.setHours(0,-t.getTimezoneOffset(),0,0);var r=new Date(t.getFullYear(),t.getMonth(),t.getDate());r.setHours(24,-r.getTimezoneOffset(),0,0),r.setDate(r.getDate()+6);var o=new Date(this.from.valueOf());o.setHours(0,-o.getTimezoneOffset(),0,0);var i=new Date(this.to.valueOf());if(i.setHours(0,-i.getTimezoneOffset(),0,0),i.setDate(i.getDate()),t>=o&&i>=t){var n=(i-t)/864e5+t.mGetDay();return this.allday?this.weekAlldayEntry(2,n,{style:"left"}):this.weekDayEntry(2,new Date(t.setHours(0,0,0,0)),this.minutes,{style:"top",time:!1}),this.parentNode.weekUpdateHeights(),void 0}},o.weekAlldayEntry=function(t,r,o){var o=o||{},i=this.template.cloneNode(!0),n=this.parentNode.shadowRoot.querySelectorAll(".foreground .allday .entry").length+1,a="grid-row: "+n+";";i.querySelector("div").setAttribute("y",n);var s=8-t,l=r+1;0>s-r&&(l=s+1,i.querySelector("div").classList.add("right")),i.querySelector("div").setAttribute("x",t),i.querySelector("div").setAttribute("span",t+l),a+="grid-column: "+t+" / "+(t+l),i.querySelector("div").setAttribute("style",a),"style"in o&&i.querySelector("div").classList.add(o.style),i.querySelector(".summary").textContent=this.getAttribute("summary"),this.days>0&&(i.querySelector(".time").textContent="from "+this.from.toLocaleString(e.locale,e.date.day)+" to "+this.to.toLocaleString(e.locale,e.date.day)),this.hoverListener(i.querySelector("div")),this.focusListener(i.querySelector("div")),this.swlShadowElements.push(i.querySelector("div")),this.parentNode.shadowRoot.querySelector(".foreground .allday").appendChild(i),i.hasOwnProperty("swlDOMElement")||Object.defineProperty(i,"swlDOMElement",{value:null,writable:!0}),i.swlDOMElement=this},o.weekDayEntry=function(t,r,o,i){if(!(0>o||t>8)){var i=i||{},n=this.template.cloneNode(!0),a="grid-column: "+t+";",s=new Date(r.valueOf());s.setHours(24,0,0,0);var l=new Date(r.valueOf());l.setHours(0,0,0,0);var d=Math.floor((r-l)/18e5),h=Math.floor((this.to-r)/18e5),u=(s-this.to)/6e4;if(0>u&&(n.querySelector("div").classList.add("bottom"),h=(s-r)/18e5,l.setDate(l.getDate()+1),this.weekDayEntry(t+1,l,o-30*h,{style:"top",time:!1})),a+="grid-row: "+(d+1)+" / span "+h+";",a+="z-index: "+(d+1)+";",r.getMinutes()>0&&r.getMinutes()<30){var c=.05*r.getMinutes();a+="top: "+c+"em; position: relative;"}else if(r.getMinutes()>30&&r.getMinutes()<=59){var c=.05*(r.getMinutes()-30);a+="top: "+c+"em; position: relative;"}"style"in i&&n.querySelector("div").classList.add(i.style),n.querySelector("div").setAttribute("x",t),n.querySelector("div").setAttribute("y",d+1),n.querySelector("div").setAttribute("span",h),n.querySelector("div").setAttribute("style",a),n.querySelector("div").setAttribute("tabindex",0),n.querySelector(".summary").textContent=this.getAttribute("summary"),"time"in i&&!i.time||(n.querySelector(".time").textContent="from "+this.from.toLocaleString(e.locale,e.time)+" to "+this.to.toLocaleString(e.locale,e.time)),this.hoverListener(n.querySelector("div")),this.focusListener(n.querySelector("div")),this.swlShadowElements.push(n.querySelector("div")),this.parentNode.shadowRoot.querySelector(".foreground .content .day").appendChild(n),n.hasOwnProperty("swlDOMElement")||Object.defineProperty(n,"swlDOMElement",{value:null,writable:!0}),n.swlDOMElement=this,this.rearrangeOverlappingEvents(t)}},o.dayCalendar=function(){this.dayListEntry();var e=new Date(this.parentNode.getAttribute("year"),parseInt(this.parentNode.getAttribute("month"))-1,this.parentNode.getAttribute("day"));e.setHours(0,0,0,0);var t=new Date(e.valueOf());if(t.setHours(24,0,0,0),!(this.to<e||this.from>t)){var r={classes:[]};this.allday?(this.from<e&&r.classes.push("left"),this.to>t&&r.classes.push("right"),this.dayAlldayEntry(r)):(this.from<e&&r.classes.push("top"),this.to>t&&r.classes.push("bottom"),this.dayDayEntry(r)),this.parentNode.dayUpdateHeights()}},o.dayAlldayEntry=function(t){var t=t||{},r=this.template.cloneNode(!0),o=this.parentNode.shadowRoot.querySelectorAll(".foreground .allday .entry").length+1,i="grid-row: "+o+";";if(i+="grid-column: 2 / span 1;",r.querySelector("div").setAttribute("style",i),r.querySelector("div").setAttribute("x",o),r.querySelector("div").setAttribute("y",2),r.querySelector("div").setAttribute("span",1),"classes"in t)for(idx in t.classes)r.querySelector("div").classList.add(t.classes[idx]);r.querySelector(".summary").textContent=this.getAttribute("summary"),this.days>0&&(r.querySelector(".time").textContent="from "+this.from.toLocaleString(e.locale,e.date.day)+" to "+this.to.toLocaleString(e.locale,e.date.day)),this.hoverListener(r.querySelector("div")),this.focusListener(r.querySelector("div")),this.swlShadowElements.push(r.querySelector("div")),this.parentNode.shadowRoot.querySelector(".foreground .allday").appendChild(r),r.hasOwnProperty("swlDOMElement")||Object.defineProperty(r,"swlDOMElement",{value:null,writable:!0}),r.swlDOMElement=this},o.dayDayEntry=function(t){var t=t||{},r=this.template.cloneNode(!0),o="grid-column: 2;",i=new Date(this.parentNode.getAttribute("year"),parseInt(this.parentNode.getAttribute("month"))-1,this.parentNode.getAttribute("day"));i.setHours(0,-i.getTimezoneOffset(),0,0);var n=new Date(i.valueOf());n.setHours(24,-n.getTimezoneOffset(),0,0);var a=this.from,s=this.to;this.from<i&&(a=i),this.to>n&&(s=n);var l=Math.floor((a-i)/18e5),d=Math.floor((s-a)/18e5);if(o+="grid-row: "+(l+1)+" / span "+d+";",o+="z-index: "+(l+1)+";",a.getMinutes()>0&&a.getMinutes()<30){var h=.05*a.getMinutes();o+="top: "+h+"em; position: relative;"}else if(a.getMinutes()>30&&a.getMinutes()<=59){var h=.05*(a.getMinutes()-30);o+="top: "+h+"em; position: relative;"}if("classes"in t)for(idx in t.classes)r.querySelector("div").classList.add(t.classes[idx]);r.querySelector("div").setAttribute("x",2),r.querySelector("div").setAttribute("y",l+1),r.querySelector("div").setAttribute("span",d),r.querySelector("div").setAttribute("style",o),r.querySelector("div").setAttribute("tabindex",0),this.hoverListener(r.querySelector("div")),this.focusListener(r.querySelector("div")),r.querySelector(".summary").textContent=this.getAttribute("summary"),"time"in t&&!t.time||(r.querySelector(".time").textContent="from "+this.from.toLocaleString(e.locale,e.time)+" to "+this.to.toLocaleString(e.locale,e.time)),this.swlShadowElements.push(r.querySelector("div")),this.parentNode.shadowRoot.querySelector(".foreground .content .day").appendChild(r),r.hasOwnProperty("swlDOMElement")||Object.defineProperty(r,"swlDOMElement",{value:null,writable:!0}),r.swlDOMElement=this,this.rearrangeOverlappingEvents(2)},o.dayListEntry=function(t){var r=new Date(this.from.valueOf());r.setHours(0,-r.getTimezoneOffset(),0,0);var o=new Date(this.to.valueOf());o.setHours(0,-r.getTimezoneOffset(),0,0);for(var i=(o-r)/864e5,n=this.parentNode.shadowRoot.querySelector('[is="swl-sticky-list-headers"]'),a=new Date(r.valueOf()),s=0;i+1>s;s++){var l=n.querySelector('[datetime="'+a.toISOString().slice(0,10)+'"]');l||(l=this.dayListHeader(a,n));var d=this.listEntryTpl.cloneNode(!0);d.querySelector("span:first-of-type").textContent=this.getAttribute("summary"),d.querySelector("span:last-of-type").textContent=this.allday?"all-day":this.from.toLocaleString(e.locale,e.time)+" to "+this.to.toLocaleString(e.locale,e.time);var h=Array.prototype.slice.call(n.children),u=h.indexOf(l),c=Array.prototype.slice.call(n.querySelectorAll(".label")),y=c.indexOf(l);u>=n.children.length+1?n.append(d):n.insertBefore(d,n.children[h.indexOf(c[y+1])]),a.setDate(a.getDate()+1)}},o.dayListHeader=function(t,r){var o=this.listHeaderTpl.cloneNode(!0);o.querySelector(".label").setAttribute("datetime",t.toISOString().slice(0,10)),o.querySelector(".label div:first-of-type").textContent=t.toLocaleString(e.locale,{weekday:"long"}),o.querySelector(".label div:last-of-type").textContent=t.toLocaleString(e.locale,e.date.date);for(var i=Array.prototype.slice.call(r.querySelectorAll(r.getAttribute("selector"))),n=0;n<i.length;n++){var a=new Date(i[n].getAttribute("datetime"));a.setHours(0,-a.getTimezoneOffset(),0,0);var s=null;if(i[n+1]&&(s=new Date(i[n+1].getAttribute("datetime")),s.setHours(0,-a.getTimezoneOffset(),0,0)),a>t){var l=o.querySelector(".label");return r.insertBefore(o,i[n]),l}if(1==i.length&&a>t){var l=o.querySelector(".label");return r.insertBefore(o,i[0]),l}if(s>t){var l=o.querySelector(".label");return r.insertBefore(o,i[n+1]),l}}var l=o.querySelector(".label");return r.appendChild(o),l},document.registerElement("swl-calendar-item",{prototype:o})}();