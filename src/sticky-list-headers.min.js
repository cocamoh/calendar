var swlStickyListHeadersProto=Object.create(HTMLDivElement.prototype,{createdCallback:{value:function(){this.cache={ui:{timer:null,lastExecThrottle:100,lastExec:new Date}},this.createShadowRoot(),this.shadowRoot.resetStyleInheritance=!1,this.shadowRoot.appendChild(document.createElement("content")),this.swlHeaderSelector=this.getAttribute("selector"),this.addEventListener("scroll",function(){this.scroll()}.bind(this)),window.addEventListener("resize",this.checkWindowSize.bind(this))}},attachedCallback:{value:function(){var e=Array.prototype.slice.call(this.shadowRoot.querySelectorAll("div:not(content)"));e.forEach(function(e){e.parentNode.removeChild(e)}.bind(this)),this.swlHeaders=Array.prototype.slice.call(this.querySelectorAll(this.swlHeaderSelector)),this.swlHeaders.forEach(function(e){var t=e.getAttribute("style")||"";-1!=t.indexOf("opacity:")&&(e.style.opacity="");var r=document.createElement("div");r.appendChild(this.cloneMassive(e)),e.style.hasOwnProperty("opacity")?e.style.opacity=0:e.setAttribute("style",t+"opacity:0;");var t="position: absolute; width: 100%;";t+=" top: "+e.offsetTop+"px;",r.setAttribute("style",t),r.setAttribute("data-offset-top",""),this.shadowRoot.appendChild(r)}.bind(this))}},attributeChangedCallback:{value:function(e){"selector"==e&&this.rebuild()}},rebuild:{value:function(){this.swlHeaderSelector=this.getAttribute("selector"),this.attachedCallback()}},refresh:{value:function(){this.calculateOffsets()}}});swlStickyListHeadersProto.checkWindowSize=function(){if(!this.cache)return!1;var e=new Date;return e-this.cache.ui.lastExec<this.cache.ui.lastExecThrottle?(this.cache.ui.timer&&window.clearTimeout(this.cache.ui.timer),this.cache.ui.timer=window.setTimeout(this.checkWindowSize,this.cache.ui.lastExecThrottle),!1):(this.cache.ui.lastExec=e,this.calculateOffsets(),void 0)},swlStickyListHeadersProto.calculateOffsets=function(){this.swlHeaders.forEach(function(e,t){var r=this.shadowRoot.querySelectorAll("div[data-offset-top]")[t];r.setAttribute("data-offset-top",e.offsetTop),e.offsetTop>e.parentNode.scrollTop&&(r.style.top=e.offsetTop+"px")}.bind(this))},swlStickyListHeadersProto.scroll=function(){this.swlHeaders.length<this.querySelectorAll(this.swlHeaderSelector).length&&this.attachedCallback(),this.shadowRoot.querySelectorAll('div[data-offset-top=""]').length>0&&this.calculateOffsets(),this.swlHeaders.forEach(function(e,t){var r=this.shadowRoot.children[t+1],o=this.shadowRoot.children[t+2],i=this.shadowRoot.children[t];r.offsetTop<=this.scrollTop?(r.style.top=this.scrollTop+"px",o?r.offsetTop+r.offsetHeight>=parseInt(o.getAttribute("data-offset-top"))&&(r.style.top=o.offsetTop-r.offsetHeight+"px"):r.style.top=this.scrollTop+"px"):(r.offsetTop>parseInt(r.getAttribute("data-offset-top"))&&(r.offsetTop>=parseInt(i.getAttribute("data-offset-top"))+i.offsetHeight||"CONTENT"==i.tagName)&&(r.style.top=this.scrollTop+"px"),r.offsetTop<parseInt(r.getAttribute("data-offset-top"))&&(r.style.top=parseInt(r.getAttribute("data-offset-top"))+"px"))}.bind(this))},swlStickyListHeadersProto.scrollToElement=function(e){var t=e.currentStyle||window.getComputedStyle(e),r=this.getHeaderOfElement(e);if(r){var o=r.currentStyle||window.getComputedStyle(r);e.parentNode.scrollTop=e.offsetTop-r.offsetHeight-parseInt(t.marginTop)-parseInt(o.marginTop)}else e.parentNode.scrollTop=e.offsetTop-parseInt(t.marginTop)},swlStickyListHeadersProto.getHeaderOfElement=function(e){for(var t=Array.prototype.slice.call(e.parentNode.children),r=0;r<this.swlHeaders.length;r++)if(t.indexOf(this.swlHeaders[r])>t.indexOf(e))return this.swlHeaders[r-1];return null},swlStickyListHeadersProto.cloneMassive=function(e){var t=e.cloneNode(!1);t.hasOwnProperty("swlOriginal")?t.swlOriginal=e:Object.defineProperty(t,"swlOriginal",{writable:!0,value:e}),t.hasOwnProperty("swlListeners")?t.swlListeners=[]:Object.defineProperty(t,"swlListeners",{writable:!0,value:[]}),e.hasOwnProperty("swlClone")?e.swlClone=t:Object.defineProperty(e,"swlClone",{writable:!0,value:t});var r=new MutationObserver(function(r){r.forEach(function(r){"attributes"===r.type&&("class"===r.attributeName?(Array.prototype.slice.call(t.classList).forEach(function(e){t.classList.remove(e)}),Array.prototype.slice.call(e.classList).forEach(function(e){t.classList.add(e)})):"style"!==r.attributeName&&t.setAttribute(r.attributeName,e.getAttribute(r.attributeName)))})});r.observe(e,{attributes:!0});var o=e.__proto__.addEventListener;e.addEventListener=function(r,i,a){var s=i.bind(e);return t.swlListeners.push({listener:i,binded:s,type:r}),o.call(t,r,s,a)};var i=e.__proto__.removeEventListener;e.removeEventListener=function(e,r,o){for(var a=r,s=0;s<t.swlListeners.length;s++)t.swlListeners[s].type===e&&t.swlListeners[s].listener===r&&(a=t.swlListeners[s].binded);return i.call(t,e,a,o)};for(var a=0;a<e.childNodes.length;a++)t.appendChild(this.cloneMassive(e.childNodes[a]));return t};var SwlStickyListHeaders=document.registerElement("swl-sticky-list-headers",{prototype:swlStickyListHeadersProto,"extends":"div"});