!function(){var e=Object.create(HTMLDivElement.prototype,{createdCallback:{value:function(){this.cache={ui:{timer:null,lastExecThrottle:100,lastExec:new Date}},this.createShadowRoot(),this.shadowRoot.appendChild(document.createElement("content")),this.swlHeaderSelector=this.getAttribute("selector"),this.addEventListener("scroll",function(){this.scroll()}.bind(this)),window.addEventListener("resize",this.checkWindowSize.bind(this))}},attachedCallback:{value:function(){var e=Array.prototype.slice.call(this.shadowRoot.querySelectorAll("div:not(content)"));e.forEach(function(e){e.parentNode.removeChild(e)}.bind(this)),this.swlHeaders=Array.prototype.slice.call(this.querySelectorAll(this.swlHeaderSelector)),this.swlHeaders.forEach(function(e){e.parentNode;var t=e.getAttribute("style")||"";-1!=t.indexOf("opacity:")&&(e.style.opacity="");var r=document.createElement("div");r.appendChild(e.cloneNode(!0)),e.setAttribute("style",t+"opacity:0;");var t="position: absolute; width: 100%;";t+=" top: "+e.offsetTop+"px;",r.setAttribute("style",t),r.setAttribute("data-offset-top",""),this.shadowRoot.appendChild(r)}.bind(this))}},attributeChangedCallback:{value:function(e){"selector"==e&&(this.swlHeaderSelector=this.getAttribute("selector"),this.attachedCallback())}}});e.checkWindowSize=function(){if(!this.cache)return!1;var e=new Date;return e-this.cache.ui.lastExec<this.cache.ui.lastExecThrottle?(this.cache.ui.timer&&window.clearTimeout(this.cache.ui.timer),this.cache.ui.timer=window.setTimeout(this.checkWindowSize,this.cache.ui.lastExecThrottle),!1):(this.cache.ui.lastExec=e,this.calculateOffsets(),void 0)},e.calculateOffsets=function(){this.swlHeaders.forEach(function(e,t){var r=this.shadowRoot.querySelectorAll("div[data-offset-top]")[t];r.setAttribute("data-offset-top",e.offsetTop),e.offsetTop>e.parentNode.scrollTop&&(r.style.top=e.offsetTop+"px")}.bind(this))},e.scroll=function(){this.swlHeaders.length<this.querySelectorAll(this.swlHeaderSelector).length&&this.attachedCallback(),this.shadowRoot.querySelectorAll('div[data-offset-top=""]').length>0&&this.calculateOffsets(),this.swlHeaders.forEach(function(e,t){var r=e.parentNode,o=this.shadowRoot.children[t+1],i=this.shadowRoot.children[t+2],n=this.shadowRoot.children[t];o.offsetTop<=r.scrollTop?(o.style.top=r.scrollTop+"px",i?o.offsetTop+o.offsetHeight>=parseInt(i.getAttribute("data-offset-top"))&&(o.style.top=i.offsetTop-o.offsetHeight+"px"):o.style.top=r.scrollTop+"px"):(o.offsetTop>parseInt(o.getAttribute("data-offset-top"))&&(o.offsetTop>=parseInt(n.getAttribute("data-offset-top"))+n.offsetHeight||"CONTENT"==n.tagName)&&(o.style.top=r.scrollTop+"px"),o.offsetTop<parseInt(o.getAttribute("data-offset-top"))&&(o.style.top=parseInt(o.getAttribute("data-offset-top"))+"px"))}.bind(this))},document.registerElement("swl-sticky-list-headers",{prototype:e,"extends":"div"})}();